package f1.sleepLeaderimport android.content.Contextimport android.media.MediaPlayerimport androidx.appcompat.app.AppCompatActivityimport android.os.Bundleimport android.os.Environmentimport android.util.Logimport com.google.firebase.storage.FirebaseStorageimport com.google.firebase.storage.StorageReferenceimport kotlinx.android.synthetic.main.activity_music_down_load.*import java.io.Fileimport java.io.FileOutputStreamimport java.lang.Exceptionclass MusicDownLoadActivity : MediaPlayerActivity(){    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        setContentView(R.layout.activity_music_down_load)        Log.i("Test","1")        var mp : MediaPlayer = MediaPlayer()        val storage = FirebaseStorage.getInstance()        val storageRef = storage.reference        val dir = storageRef.child("keyboard.mp3")        Log.i("Test","2")        println(dir)        val byteLength=100L        val b :ByteArray = byteArrayOf(100)        var fos :FileOutputStream        /*dir.getFile(localFile).addOnSuccessListener {        }*/        dir.getBytes(byteLength).addOnSuccessListener {            bytes: ByteArray? ->            Log.i("Test","つながり給え")            fos = openFileOutput(bytes.toString(), Context.MODE_PRIVATE)            fos.write(b,0,1)        }        /*dir.downloadUrl.addOnSuccessListener {            uri ->                Log.i("Test", "3")                val url = uri.toString()                mp.setDataSource(url)                mp.setOnPreparedListener(this::onPrepared)                mp.prepareAsync()                println(mp)        }.addOnFailureListener{}*/        /*dir.getBytes(byteLength).addOnSuccessListener{                bytes ->            Log.i("Test","3")            val data = String(bytes, Charsets.UTF_8)            val array=data.split("/n")            var res=""            val i=1;            Log.i("Test","4")            for(item in array){                res=i.toString().plus(item).plus("\n")            }            test.text=res        }.addOnFailureListener {  }*/    }    public fun onPrepared(mediaPlayer: MediaPlayer){        mediaPlayer.start()    }}